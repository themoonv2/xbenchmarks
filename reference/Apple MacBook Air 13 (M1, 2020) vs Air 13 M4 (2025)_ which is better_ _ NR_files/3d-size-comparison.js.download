function calculateSecondCubeInitialPoint([e,t]){return{x:e[1]-e[0]-(t[1]-t[0]),y:e[2]+(e[0]-t[0]+(e[1]-t[1]))/2}}function calculateScaleRatio({sizes:e,maxDrawSize:t}){var i=(e[0][0]+e[0][1])/2,e=i+e[0][2]+e[1][2];let l=t.width/i;return l=e*l>2*t.height?2*t.height/e:l}function calculateOptimalCubeInitialPointsForMaxFitting({processsedSizes:e,canvasResolution:t}){var[[e,i,l],[,,o]]=e,[t,a]=t.map(e=>e/2);return{x:t+(e-i)/2,y:a+(l+(e/2+i/2))/2+o}}function shadeColor(e,t){e=e.substr(1);var e=parseInt(e,16),t=Math.round(2.55*t),i=(e>>16)+t,l=(e>>8&255)+t,e=(255&e)+t;return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(l<255?l<1?0:l:255)+(e<255?e<1?0:e:255)).toString(16).slice(1)}function draw3DCube({initialPoint:e,size:t,color:i,ctx:l}){var[e,o]=e,[t,a,n]=t;l.beginPath(),l.moveTo(e,o),l.lineTo(e-t,o-.5*t),l.lineTo(e-t,o-n-.5*t),l.lineTo(e,o-+n),l.closePath(),l.fillStyle=shadeColor(i,-10),l.strokeStyle=i,l.stroke(),l.fill(),l.beginPath(),l.moveTo(e,o),l.lineTo(e+a,o-.5*a),l.lineTo(e+a,o-n-.5*a),l.lineTo(e,o-+n),l.closePath(),l.fillStyle=shadeColor(i,10),l.strokeStyle=shadeColor(i,50),l.stroke(),l.fill(),l.beginPath(),l.moveTo(e,o-n),l.lineTo(e-t,o-n-.5*t),l.lineTo(e-t+a,o-n-(.5*t+.5*a)),l.lineTo(e+a,o-n-.5*a),l.closePath(),l.fillStyle=shadeColor(i,20),l.strokeStyle=shadeColor(i,60),l.stroke(),l.fill()}function drawCubeText({initialPoint:e,size:t,textPosition:i,fontSize:l=28,labels:o,ctx:a}){var[e,n]=e,[t,s,r]=t,c=r,f=54*Math.PI/360;a.font=l+"px sans-serif",a.textAlign="center",a.fillStyle="#202020",a.save();const u=e-t/2,x=n-t/4,h=("outside"===i?a.translate(u-c/2,x+c/2):(a.fillStyle="#fff",a.translate(u+32,x-c-48)),a.rotate(f),a.fillText(o[0],0,30),a.restore(),a.save(),e+s/2),d=n-s/4;"outside"===i?a.translate(h+c/2,d+c/2):(a.fillStyle="#fff",a.translate(h-32,d-c-48)),a.rotate(-f),a.fillText(o[1],0,30),a.restore(),a.save(),a.fillStyle="#202020","outside"===i?(a.textAlign="left",a.fillText(o[2],e+s+15,n-.5*s-.25*r)):(a.textAlign="right",a.fillText(o[2],e-t-15,n-.5*t-.25*r)),a.restore()}function writeColorNames({names:e,colors:t,ctx:i}){i.font="28px sans-serif",i.textAlign="left",i.save(),i.beginPath(),i.arc(14,14,14,0,2*Math.PI),i.fillStyle=shadeColor(t[1],-10),i.fill(),i.fillText(e[1],40,24),i.beginPath(),i.arc(14,59.5,14,0,2*Math.PI),i.fillStyle=shadeColor(t[0],-10),i.fill(),i.fillText(e[0],40,70)}function renderSizesComparison({canvasElementSelector:e="#canvas-compare-sizes",canvasResolution:t=[1200,600],colors:i=["#08c3a0","#394aab"],sizes:l,names:o,prefix:a="",maxDrawSize:n={width:450,height:250}}){e=document.querySelector(e),e.width=t[0],e.height=t[1],e=e.getContext("2d");l[0][0]*l[0][1]<l[1][0]*l[1][1]&&(l.reverse(),o.reverse());let s=calculateScaleRatio({sizes:l,maxDrawSize:n});var n=l.map(e=>e.map(e=>e*s)),t=calculateOptimalCubeInitialPointsForMaxFitting({processsedSizes:n,canvasResolution:t}),r=t.x,t=t.y-10,c=(draw3DCube({initialPoint:[r,t],size:n[0],color:i[0],ctx:e}),drawCubeText({initialPoint:[r,t],size:n[0],labels:l[0].map(e=>""+e+a),textPosition:"outside",ctx:e}),calculateSecondCubeInitialPoint(n));draw3DCube({initialPoint:[r+c.x,t-c.y],size:n[1],color:i[1],ctx:e}),drawCubeText({initialPoint:[r+c.x,t-c.y],size:n[1],labels:l[1].map(e=>""+e+a),textPosition:"inside",ctx:e}),writeColorNames({names:o,colors:i,ctx:e})}